## 方法
数组 `append` 方法
```python
a = [1, 2, 3]
a.append(4)
print(a)  # [1, 2, 3, 4]
```

len() 函数
```python
a = [1, 2, 3]
print(len(a))  # 3
```

## Python 切片（slice）

### 1）切片是什么

切片是从“序列”里按区间取子序列的语法，适用于：

* `list`、`tuple`、`str`
* 以及一些支持切片协议的对象（如 `range`）
* NumPy 数组也用切片（后面再扩展）

基本形态：

```python
seq[start:end:step]
```

---

### 2）核心规则（必须背熟）

#### 2.1 左闭右开

切片区间是 **[start, end)**
也就是说：包含 `start`，不包含 `end`。

```python
a = [0, 1, 2, 3, 4]
a[1:4]   # -> [1, 2, 3]
```

#### 2.2 start / end / step 的默认值

* `start` 省略：默认从开头（step>0 时为 0）
* `end` 省略：默认到结尾（len(seq)）
* `step` 省略：默认 1

所以：

* `a[:]`：从头到尾复制一遍（完整切片）
* `a[:3]`：前 3 个（索引 0,1,2）
* `a[3:]`：从索引 3 到末尾
* `a[::2]`：每隔一个取一个

例子：

```python
a = [0, 1, 2, 3, 4, 5]
a[:]     # [0,1,2,3,4,5]
a[:3]    # [0,1,2]
a[3:]    # [3,4,5]
a[::2]   # [0,2,4]
```

---

### 3）负索引（从尾部往前数）

Python 支持负索引：

* `-1` 是最后一个
* `-2` 是倒数第二个

```python
a = [10, 20, 30, 40]
a[-1]     # 40
a[-2]     # 30
a[1:-1]   # [20, 30]  (包含1，不包含-1)
```

---

### 4）step（步长）是切片的灵魂

#### 4.1 step > 0：正向切

```python
a = [0,1,2,3,4,5]
a[1:5:2]   # [1,3]
```

#### 4.2 step < 0：反向切（很常用）

最经典：

```python
a[::-1]    # 反转
```

更多例子：

```python
a = [0,1,2,3,4,5]
a[5:1:-1]  # 从索引5往回取到索引2（不含1） -> [5,4,3,2]
a[::-2]    # 反向隔一个取一个 -> [5,3,1]
```

**关键理解：**

* step 是负数时，默认方向反过来
* 这时如果你写 `a[:3:-1]`，含义是“从末尾往前取到索引3（不含3）”

---

### 5）越界不会报错（切片安全）

索引越界会报错，但切片越界通常不会：

```python
a = [1,2,3]
a[0:999]   # [1,2,3]
a[999:]    # []
```

这在写代码时很安全。

---

### 6）`[:]` 空切片到底代表什么

`a[:]` = 使用默认 start/end/step
等价于：

```python
a[0:len(a):1]
```

#### 常见用途：浅拷贝（shallow copy）

```python
a = [1,2,3]
b = a[:]      # b 是新列表
b.append(4)
# a 不变，b 变
```

⚠️ 但它是“浅拷贝”：如果内部元素是可变对象（比如子列表），子对象还是同一个引用。

```python
a = [[1], [2]]
b = a[:]
b[0].append(99)
print(a)  # [[1, 99], [2]]  <-- a 也变了
```

#### 深拷贝：copy.deepcopy

```python
import copy
b = copy.deepcopy(a)
```

---

### 7）切片赋值（非常实用）

切片不仅能“取”，还能“改”。

#### 7.1 替换一段

```python
a = [0,1,2,3,4]
a[1:4] = [10, 11]
# a -> [0,10,11,4]
```

注意：长度可以改变（会插入/删除效果）

#### 7.2 插入

```python
a = [1,2,3]
a[1:1] = [9,9]
# a -> [1,9,9,2,3]
```

#### 7.3 删除

```python
a = [1,2,3,4,5]
del a[1:4]
# a -> [1,5]
```

#### 7.4 步长切片赋值（必须长度匹配）

```python
a = [0,1,2,3,4,5]
a[::2] = [10,20,30]  # OK（0,2,4 三个位置）
# a -> [10,1,20,3,30,5]
```

如果长度不匹配会报错。

---

### 8）字符串切片（常用技巧）

字符串不可变，但切片取子串很方便：

```python
s = "abcdef"
s[:3]     # "abc"
s[3:]     # "def"
s[::-1]   # "fedcba"
```

---
